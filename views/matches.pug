extends layout.pug

block scripts
	script.
		$(function() {
			$('#continueMatchButton').click(function() {
				window.location.href = '/match/' + $(this).closest('tr').find('th').text();
			});
			$('#viewResultsButton').click(function() {
				window.location.href = '/match/' + $(this).closest('tr').find('th').text() + '/results';
			});
		});

block content
	h2 Matches
	p.
		Overview over all played matches

	table(class='table table-striped table-bordered')
		thead
			tr
				th #
				th Start Time
				th End Time
				th Starting Score
				th Winner
				th Players
				th Results
		tbody
			each match in matches
				tr
					th(scope='row')= match.id
					td= match.start_time
					td= match.end_time
					td= match.starting_score
					td= match.winner
					td= match.players
					if !match.is_finished
						td
							button(type='button' id='continueMatchButton' class='btn btn-primary btn-block') Continue
					else
						td
							button(type='button' id='viewResultsButton' class='btn btn-primary btn-block') View